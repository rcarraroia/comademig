# ============================================================================
# CONFIGURAÇÃO DE AMBIENTE - SISTEMA DE PAGAMENTOS COMADEMIG
# ============================================================================

# Ambiente (development, staging, production)
NODE_ENV=development
PORT=3000

# ============================================================================
# CONFIGURAÇÕES DO ASAAS
# ============================================================================

# Chave da API Asaas (obter no painel Asaas)
ASAAS_API_KEY=your_asaas_api_key_here

# Ambiente Asaas (sandbox ou production)
ASAAS_ENVIRONMENT=sandbox

# URLs base do Asaas
ASAAS_BASE_URL_SANDBOX=https://sandbox.asaas.com/api/v3
ASAAS_BASE_URL_PRODUCTION=https://www.asaas.com/api/v3

# ============================================================================
# CONFIGURAÇÕES DO SUPABASE
# ============================================================================

# URL do projeto Supabase
SUPABASE_URL=https://amkelczfwazutrciqtlk.supabase.co

# Chave anônima (pública)
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Chave de service role (privada - NUNCA expor no frontend)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ============================================================================
# CONFIGURAÇÕES DE SPLIT DE PAGAMENTO
# ============================================================================

# COMADEMIG (40%) - Fica automaticamente na conta principal (API_KEY)
# Não precisa de wallet separada

# Carteira RENUM no Asaas (40%)
RENUM_WALLET_ID=your_renum_wallet_id

# Percentuais de split (não alterar sem aprovação)
SPLIT_COMADEMIG_PERCENT=40
SPLIT_RENUM_PERCENT=40
SPLIT_AFFILIATE_PERCENT=20

# ============================================================================
# CONFIGURAÇÕES DE SEGURANÇA
# ============================================================================

# Chave secreta para JWT (gerar uma chave forte)
JWT_SECRET=your_super_secret_jwt_key_here

# Token para validação de webhooks
WEBHOOK_SECRET_TOKEN=your_webhook_secret_token

# Domínios permitidos para CORS (separados por vírgula)
ALLOWED_ORIGINS=http://localhost:8080,https://comademig.vercel.app,https://comademig.com.br

# ============================================================================
# CONFIGURAÇÕES DE NOTIFICAÇÕES
# ============================================================================

# Webhook do Slack para notificações administrativas
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email do administrador
ADMIN_EMAIL=admin@comademig.com.br

# ============================================================================
# CONFIGURAÇÕES DE RATE LIMITING
# ============================================================================

# Limite geral de requisições por IP (por minuto)
RATE_LIMIT_GENERAL=100

# Limite para endpoints de pagamento (por minuto)
RATE_LIMIT_PAYMENT=10

# Limite para webhooks (por minuto)
RATE_LIMIT_WEBHOOK=1000

# ============================================================================
# CONFIGURAÇÕES DE LOGGING
# ============================================================================

# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# Arquivo de log (opcional)
LOG_FILE=logs/api.log

# ============================================================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO/TESTE
# ============================================================================

# Token de teste para endpoints protegidos
TEST_USER_TOKEN=test-jwt-token-for-development

# Habilitar logs detalhados de debug
DEBUG_MODE=false

# Habilitar modo de simulação (não faz chamadas reais para Asaas)
SIMULATION_MODE=false

# ============================================================================
# CONFIGURAÇÕES DE PRODUÇÃO
# ============================================================================

# URL base da API em produção
API_BASE_URL=https://api.comademig.com.br

# Timeout para requisições externas (em ms)
REQUEST_TIMEOUT=30000

# Número máximo de tentativas para retry
MAX_RETRY_ATTEMPTS=3

# ============================================================================
# INSTRUÇÕES DE CONFIGURAÇÃO
# ============================================================================

# 1. Copie este arquivo para .env
# 2. Preencha todas as variáveis com os valores corretos
# 3. NUNCA commite o arquivo .env no Git
# 4. Para produção, configure as variáveis no seu provedor de hosting

# IMPORTANTE:
# - Mantenha as chaves secretas seguras
# - Use chaves diferentes para cada ambiente
# - Monitore o uso das APIs para evitar limites
# - Configure alertas para falhas críticas